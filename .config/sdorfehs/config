############################################################################################

## --- Author of Sdorfehs is Joshua Stein ---

## Sdorfehs [starfish] is an enhanced successor of RatPoison.

## Feel free to tweak and share.

############################################################################################
# exec xmodmap .xmodmaprc
# exec autostart
# # exec pkill dzen2
# #exec sleep 2s && sdorfehs_bar
# # #export GDK_SCALE=2
# # #exec i3status > ~/.config/sdorfehs/bar
exec ~/.config/polybar/launch.sh
# exec xsetroot -cursor_name left_ptr
# exec xset r rate 400 30
# # exec unclutter
# # exec udiskie
# exec xset s off -dpms
# exec /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
# # #(sleep 1s && picom --experimental-backend --shadow-exclude-reg '1920+0-0' --inactive-opacity 1.00  --opacity-rule "85:class_g ='urxvt'" --opacity-rule "80:class_g = 'rofi'" --opacity-rule "90:class_g = 'Alacritty'" --blur-background-exclude n:a:slop -CGfF -o 0.70 -O 0.028 -I 0.028 -t 0 -l 0 -r 7 -D2 -m 1.00) &
# # exec pkill picom
exec picom --config ~/.config/picom.conf 
# # exec dunst
# # #setbg &
# #exec feh --bg-fill --randomize ~/.local/bin/wallpapers/Future/*
# # #pkill redshift
# # #exec redshift -l 47.162495:19.503304 -t 6000:3600 -g 0.8 -m randr -v
 

vselect 1
vrename chat

vselect 2
vrename edit

vselect 3
vrename music

vselect 4
vrename steam

vselect 5
vrename video

vselect 0
vrename web



# Setting the escape key to the Caps_Lock key
# -------------------------------------------
escape F13


# Customization
# -----------------------
set rudeness 13
set font "JetBrains Mono Nerd Font:size=10:antialias=true"
msgwait 3
startupmessage 1

set bgcolor #000000
set fgcolor #947cc3
set bwcolor #000000
set fwcolor #947cc3


set padding 20 54 20 20
set gap 10
set border 8
set ignoreresizehints 1
set vscreens  6
set stickyfmt %c: %t [%n]

# Display formats
set infofmt %c: %t [%n]
set framefmt %t [%n]



set barsticky 1
#set bargravity sw
set barborder 0
set barbordercolor #947cc3
set barpadding 6 2
set barinpadding 1
set bargravity sw


# Swap workspaces
# -----------------------
definekey top s-0 vselect 0
definekey top s-1 vselect 1
definekey top s-2 vselect 2
definekey top s-3 vselect 3
definekey top s-4 vselect 4
definekey top s-5 vselect 5

# definekey top s-0 vselect 0
# definekey top s-1 vselect 1
# definekey top s-2 vselect 2
# definekey top s-3 vselect 3
# definekey top s-4 vselect 4
# definekey top s-5 vselect 5


# Move current window to another workspace
# -----------------------------------------
definekey top M-0 vmove 0
definekey top M-1 vmove 1
definekey top M-2 vmove 2
definekey top M-3 vmove 3
definekey top M-4 vmove 4
definekey top M-5 vmove 5


# Unbinds
# ------------------------
unbind a
unbind A
unbind C-A
unbind b
unbind C-b
unbind i
unbind l
unbind C-l
unbind K
unbind C-K
unbind r
unbind p
unbind C-p
unbind s
unbind S
unbind C-S
unbind n
unbind C-n
unbind u
unbind C-u
unbind f
unbind Return
unbind C-Return
unbind x
unbind C-x
unbind w
unbind C-V
unbind v
unbind F1
unbind F2
unbind F3
unbind F4
unbind F5
unbind F6
unbind F7


# Launch_apps
# -----------------------------
definekey top s-w exec $BROWSER
definekey top s-r exec $TERMINAL -e $FILE
definekey top s-Return exec $TERMINAL
definekey top s-p exec discord
definekey top s-P exec pcmanfm
definekey top s-E exec subl
definekey top s-d exec dmenu_run -i -c -g 1 -l 10 -p 'Run' -nb '#1a1a1a' -sb '#947cc3' -fn 'JetBrains Mono Nerd Font-12'
definekey top s-a exec sdorfehs -c "echo `date`"
bind x exec picsound

# Function Keys
# -------------------
definekey top s-F1 help
definekey top s-F2 exec edconf.sh
definekey top s-F3 exec dmenurecord
definekey top s-F4 sshot
definekey top s-F5 exec maimpick
definekey top s-F6 exec live
definekey top s-F7 exec stop_live

# Start alacritty with tabs
definekey top s-t atab

# Start tmux with alacritty
definekey top s-T exec wmctrl -x -a "alacritty" || alacritty -e tmux

# Show sdorfehs manpage
definekey top s-m exec $TERMINAL -e man sdorfehs

# Music
definekey top s-M exec scratch Music

# Volume up/down
# ---------------------------
definekey top C-Up volup
definekey top C-Down voldown

# Alias
# ----------------------------------------
alias sr exec systemctl reboot
alias poff exec systemctl poweroff
alias atab exec wmctrl -x -a "tabbed" || tabbed alacritty --embed
alias sshot exec import -window root png:$HOME/Képek/Képernyőképek/Képernyőképek-$(date +%s)$$.png
alias volup exec pamixer --allow-boost -i 10 >/dev/null
alias voldown exec pamixer --allow-boost -d 10 >/dev/null
#alias aprop exec sdorfehs -c "echo $(apropos $(sdorfehs -c "prompt apropos | "))"

# Sdorfehs commands
#--------------------------------------

# Restart Sdorfehs
definekey top M-Escape restart

# Kill | Remove
definekey top s-q delete
definekey top s-Q remove

# LogoutMenu
definekey top s-c exec eww open powermenu

# Choose groups
definekey top s-G exec starg

definekey top s-Z exec

definekey top s-C colon

# Resize frame
bind R resize

# Undo command
definekey top s-U undo

# Swap windows
#bind S swap
#bind s exec pad.sh

# Onlyone
definekey top s-o only

# Show|Hide frame
definekey top s-D exec dumporrestore

# Swap windows
definekey top s-Left exchangeleft
definekey top s-Right exchangeright
definekey top s-Up exchangeup
definekey top s-Down exchangedown

# Horizontal/Vertical
definekey top s-h  exec split_and_focus horiz
definekey top s-v  exec split_and_focus vert
definekey top s-V exec sdorfehs -c "hsplit" -c "resize 200 0"

# LEFT ALTKEYBINDS
# -----------------------------------
definekey top M-Tab next
definekey top s-Tab focus

# Focus
# --------------------
definekey top M-Up focusup
definekey top M-Down focusdown
definekey top M-Left focusleft
definekey top M-Right focusright

# Resize
# -------------------------
definekey top M-h resize -30 0
definekey top M-j resize  0 -30
definekey top M-k resize  0  30
definekey top M-l resize  30 0
#definekey top M-b exec toggle_bar
definekey top s-b exec polybar-msg cmd toggle

# Hooks
# -------------------
#addhook newwindow exec ~/.local/bin/sdorfehsscripts/autovscreen
#addhook restart pkill -f ~/.config/sdorfehs/bar


exec ~/.local/bin/myBar

#exec ~/.local/bin/sdorfehsscripts/sdorfehs_bar

# -----------------------------END------------------------------------------


